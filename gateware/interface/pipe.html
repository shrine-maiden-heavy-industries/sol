

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PIPE &mdash; SOL 0.4.2.dev13 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=5349f25f" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/styles.css?v=e585626c" />
      <link rel="stylesheet" type="text/css" href="../../_static/platformpicker.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/styles.css?v=e585626c" />

  
    <link rel="canonical" href="https://sol.shmdn.link/gateware/interface/pipe.html" />
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=76d39afe"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/platformpicker.js"></script>
      <script src="../../_static/wavedrom.skin.js"></script>
      <script src="../../_static/wavedrom.min.js"></script>
      <script src="../../_static/js/wavedrom.min.js?v=db79c4d1"></script>
      <script src="../../_static/js/wavedrom.skin.js?v=986d6b75"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="ULPI" href="ulpi.html" />
    <link rel="prev" title="Interface" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            SOL
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../features.html">Status &amp; Support</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../features.html#support-for-device-mode">Support for Device Mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../features.html#support-for-host-mode">Support for Host Mode</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../install.html#installing-prerequisites">Installing Prerequisites</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../install.html#installing-python">Installing Python</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../install.html#installing-yosys">Installing Yosys</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../install.html#installing-torii">Installing Torii</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../install.html#installing-sol">Installing SOL</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../install.html#latest-release">Latest release</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../install.html#development-snapshot">Development snapshot</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../install.html#editable-development-snapshot">Editable development snapshot</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started.html#prerequisites">Prerequisites</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Gateware Library</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Interface</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">PIPE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sol_usb.gateware.interface.pipe.PIPEInterface"><code class="docutils literal notranslate"><span class="pre">PIPEInterface</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sol_usb.gateware.interface.pipe.AsyncPIPEInterface"><code class="docutils literal notranslate"><span class="pre">AsyncPIPEInterface</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sol_usb.gateware.interface.pipe.GearedPIPEInterface"><code class="docutils literal notranslate"><span class="pre">GearedPIPEInterface</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ulpi.html">ULPI</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ulpi.html#sol_usb.gateware.interface.ulpi.ULPIDataRecord"><code class="docutils literal notranslate"><span class="pre">ULPIDataRecord</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ulpi.html#sol_usb.gateware.interface.ulpi.ULPIDirRecord"><code class="docutils literal notranslate"><span class="pre">ULPIDirRecord</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ulpi.html#sol_usb.gateware.interface.ulpi.ULPIInterface"><code class="docutils literal notranslate"><span class="pre">ULPIInterface</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ulpi.html#sol_usb.gateware.interface.ulpi.ULPIRegisterWindow"><code class="docutils literal notranslate"><span class="pre">ULPIRegisterWindow</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ulpi.html#sol_usb.gateware.interface.ulpi.ULPIRxEventDecoder"><code class="docutils literal notranslate"><span class="pre">ULPIRxEventDecoder</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ulpi.html#sol_usb.gateware.interface.ulpi.ULPIControlTranslator"><code class="docutils literal notranslate"><span class="pre">ULPIControlTranslator</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ulpi.html#sol_usb.gateware.interface.ulpi.ULPITransmitTranslator"><code class="docutils literal notranslate"><span class="pre">ULPITransmitTranslator</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ulpi.html#sol_usb.gateware.interface.ulpi.UTMITranslator"><code class="docutils literal notranslate"><span class="pre">UTMITranslator</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="utmi.html">UTMI</a><ul>
<li class="toctree-l4"><a class="reference internal" href="utmi.html#sol_usb.gateware.interface.utmi.UTMIOperatingMode"><code class="docutils literal notranslate"><span class="pre">UTMIOperatingMode</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="utmi.html#sol_usb.gateware.interface.utmi.UTMITerminationSelect"><code class="docutils literal notranslate"><span class="pre">UTMITerminationSelect</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="utmi.html#sol_usb.gateware.interface.utmi.UTMITransmitInterface"><code class="docutils literal notranslate"><span class="pre">UTMITransmitInterface</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="utmi.html#sol_usb.gateware.interface.utmi.UTMIInterfaceMultiplexer"><code class="docutils literal notranslate"><span class="pre">UTMIInterfaceMultiplexer</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="utmi.html#sol_usb.gateware.interface.utmi.UTMIInterface"><code class="docutils literal notranslate"><span class="pre">UTMIInterface</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="gateware/index.html">Gateware PHY</a><ul>
<li class="toctree-l4"><a class="reference internal" href="gateware/phy.html">Gateware PHY</a></li>
<li class="toctree-l4"><a class="reference internal" href="gateware/receiver.html">Gateware PHY - Receiver</a></li>
<li class="toctree-l4"><a class="reference internal" href="gateware/transmitter.html">Gateware PHY - Transmitter</a></li>
<li class="toctree-l4"><a class="reference internal" href="gateware/index.html#sol_usb.gateware.interface.gateware_phy.GatewarePHY"><code class="docutils literal notranslate"><span class="pre">GatewarePHY</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="serdes/index.html">SerDes PHY</a><ul>
<li class="toctree-l4"><a class="reference internal" href="serdes/ecp5.html">SerDes PHY - ECP5</a></li>
<li class="toctree-l4"><a class="reference internal" href="serdes/lfps.html">SerDes PHY - LFPS</a></li>
<li class="toctree-l4"><a class="reference internal" href="serdes/xc7.html">SerDes PHY - XC7</a></li>
<li class="toctree-l4"><a class="reference internal" href="serdes/index.html#sol_usb.gateware.interface.serdes_phy.ECP5SerDesPIPE"><code class="docutils literal notranslate"><span class="pre">ECP5SerDesPIPE</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="serdes/index.html#sol_usb.gateware.interface.serdes_phy.XC7GTPSerDesPIPE"><code class="docutils literal notranslate"><span class="pre">XC7GTPSerDesPIPE</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="serdes/index.html#sol_usb.gateware.interface.serdes_phy.XC7GTXSerDesPIPE"><code class="docutils literal notranslate"><span class="pre">XC7GTXSerDesPIPE</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../soc/index.html">SoC</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../soc/cpu.html">CPU</a></li>
<li class="toctree-l3"><a class="reference internal" href="../soc/event.html">Event</a></li>
<li class="toctree-l3"><a class="reference internal" href="../soc/memory.html">Memory</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../soc/memory.html#sol_usb.gateware.soc.memory.WishboneRAM"><code class="docutils literal notranslate"><span class="pre">WishboneRAM</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../soc/memory.html#sol_usb.gateware.soc.memory.WishboneROM"><code class="docutils literal notranslate"><span class="pre">WishboneROM</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../soc/peripheral.html">Peripheral</a></li>
<li class="toctree-l3"><a class="reference internal" href="../soc/simplesoc.html">SimpleSoC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../soc/uart.html">UART</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../stream/index.html">Stream</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../stream/index.html#sol_usb.gateware.stream.StreamInterface"><code class="docutils literal notranslate"><span class="pre">StreamInterface</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../stream/index.html#sol_usb.gateware.stream.StreamInterface.stream_eq"><code class="docutils literal notranslate"><span class="pre">StreamInterface.stream_eq()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../stream/index.html#sol_usb.gateware.stream.StreamInterface.tap"><code class="docutils literal notranslate"><span class="pre">StreamInterface.tap()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../stream/index.html#module-sol_usb.gateware.stream.arbiter">Arbiter</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../stream/index.html#sol_usb.gateware.stream.arbiter.StreamMultiplexer"><code class="docutils literal notranslate"><span class="pre">StreamMultiplexer</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../stream/index.html#sol_usb.gateware.stream.arbiter.StreamArbiter"><code class="docutils literal notranslate"><span class="pre">StreamArbiter</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../stream/index.html#module-sol_usb.gateware.stream.generator">Generator</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../stream/index.html#sol_usb.gateware.stream.generator.ConstantStreamGenerator"><code class="docutils literal notranslate"><span class="pre">ConstantStreamGenerator</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../stream/index.html#sol_usb.gateware.stream.generator.StreamSerializer"><code class="docutils literal notranslate"><span class="pre">StreamSerializer</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../usb/index.html">USB</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../usb/analyzer.html">Analyzer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../usb/analyzer.html#sol_usb.gateware.usb.analyzer.USBAnalyzer"><code class="docutils literal notranslate"><span class="pre">USBAnalyzer</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../usb/request.html">Request</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../usb/request.html#module-sol_usb.gateware.usb.request.control">Control</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb/request.html#module-sol_usb.gateware.usb.request.interface">Interface</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb/request.html#module-sol_usb.gateware.usb.request.standard">Standard</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb/request.html#module-sol_usb.gateware.usb.request.windows">Windows</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../usb/stream.html">Stream</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../usb/stream.html#sol_usb.gateware.usb.stream.USBInStreamInterface"><code class="docutils literal notranslate"><span class="pre">USBInStreamInterface</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb/stream.html#sol_usb.gateware.usb.stream.USBOutStreamInterface"><code class="docutils literal notranslate"><span class="pre">USBOutStreamInterface</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb/stream.html#sol_usb.gateware.usb.stream.USBOutStreamBoundaryDetector"><code class="docutils literal notranslate"><span class="pre">USBOutStreamBoundaryDetector</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb/stream.html#sol_usb.gateware.usb.stream.USBRawSuperSpeedStream"><code class="docutils literal notranslate"><span class="pre">USBRawSuperSpeedStream</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb/stream.html#sol_usb.gateware.usb.stream.SuperSpeedStreamArbiter"><code class="docutils literal notranslate"><span class="pre">SuperSpeedStreamArbiter</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb/stream.html#sol_usb.gateware.usb.stream.SuperSpeedStreamInterface"><code class="docutils literal notranslate"><span class="pre">SuperSpeedStreamInterface</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../usb/usb2/index.html">USB2</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../usb/usb2/control.html">Control</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb/usb2/descriptor.html">Descriptor</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb/usb2/deserializer.html">Deserializer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb/usb2/device.html">Device</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb/usb2/endpoint.html">Endpoint</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb/usb2/endpoint.html#gateware-endpoint-interfaces">Gateware Endpoint Interfaces</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb/usb2/packet.html">Packet</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb/usb2/request.html">Request</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb/usb2/reset.html">Reset</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb/usb2/transfer.html">Transfer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb/usb2/endpoints.html">Endpoints</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb/usb2/interfaces.html">Interfaces</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb/usb2/index.html#conceptual-components">Conceptual Components</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb/usb2/index.html#token-detector">Token Detector</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb/usb2/index.html#handshake-detector">Handshake Detector</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb/usb2/index.html#data-packet-receiver">Data Packet Receiver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb/usb2/index.html#device-state-manager">Device State Manager</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb/usb2/index.html#handshake-generator">Handshake Generator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb/usb2/index.html#data-packet-transmitter">Data Packet Transmitter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb/usb2/index.html#data-crc-unit">Data CRC Unit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb/usb2/index.html#interpacket-timer">Interpacket Timer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb/usb2/index.html#reset-suspend-sequencer">Reset/Suspend Sequencer</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../usb/usb3/index.html">USB3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../usb/usb3/application.html">Application</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb/usb3/device.html">Device</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb/usb3/endpoints.html">Endpoints</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb/usb3/link.html">Link</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb/usb3/physical.html">Physical</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb/usb3/protocol.html">Protocol</a></li>
<li class="toctree-l4"><a class="reference internal" href="../usb/usb3/request.html">Request</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../hardware/custom.html">SOL On Your Own Hardware</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../hardware/custom.html#high-speed-via-a-ulpi-phy">High-Speed via a ULPI PHY</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware/custom.html#full-speed-using-fpga-i-o">Full-Speed using FPGA I/O</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../hardware/index.html">Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#unreleased">Unreleased</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#added">Added</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#changed">Changed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#deprecated">Deprecated</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#removed">Removed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#fixed">Fixed</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id1">0.4.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id2">Changed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id3">Fixed</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id4">0.4.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id5">Added</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id6">Changed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id7">Fixed</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id8">0.3.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id9">Added</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id10">Changed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id11">Deprecated</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id12">Removed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id13">Fixed</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id14">0.2.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id15">Added</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id16">Changed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id17">Removed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../changelog.html#id18">Fixed</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id19">0.1.0</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/shrine-maiden-heavy-industries/sol/">Source Code</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">SOL</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Gateware Library</a></li>
          <li class="breadcrumb-item"><a href="index.html">Interface</a></li>
      <li class="breadcrumb-item active">PIPE</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/shrine-maiden-heavy-industries/sol/blob/main/docs/gateware/interface/pipe.md" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-sol_usb.gateware.interface.pipe">
<span id="pipe"></span><h1>PIPE<a class="headerlink" href="#module-sol_usb.gateware.interface.pipe" title="Link to this heading"></a></h1>
<p>USB3 PIPE interfacing gateware.</p>
<dl class="py class">
<dt class="sig sig-object py" id="sol_usb.gateware.interface.pipe.PIPEInterface">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sol_usb.gateware.interface.pipe.</span></span><span class="sig-name descname"><span class="pre">PIPEInterface</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_loc_at</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sol_usb.gateware.interface.pipe.PIPEInterface" title="Link to this definition"></a></dt>
<dd><p>Interface present on hardware that implements the PHY Interface for PCI Express and USB 3.0 (PIPE).</p>
<p>This interface is compliant with the PHY Interface For the PCI Express and USB 3.0
Architectures, Version 3.0 specification. Unless otherwise noted, the descriptions of
the signals as stated in this specification take precedence over the ones provided here.</p>
<p>The directions of the signals are given from the PHY perspective, i.e. a signal described as
an ‘output’ is driven by the PHY and received by the MAC.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>width</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – Interface width, in symbols.</p></li>
<li><p><strong>Ports</strong></p></li>
<li><p><strong>-----</strong></p></li>
<li><p><strong>reset</strong> (<em>Signal</em><em>(</em><em>)</em><em>, </em><em>input</em>) – Active-high, asynchronous reset for the PHY receiver and transmitter.</p></li>
<li><p><strong>clk</strong> (<em>Signal</em><em>(</em><em>)</em><em>, </em><em>input</em>) – Reference clock for the PHY receiver and transmitter. The specifications for this clock
(frequency, jitter, phase relationship to other clocks) are PHY implementation dependent
and must be specified by the implementation.</p></li>
<li><p><strong>pclk</strong> (<em>Signal</em><em>(</em><em>)</em><em>, </em><em>output</em>) – Clock for the PHY interface. Unless otherwise specified, all other signals are synchronous
to the rising edge of this clock. This clock is derived from the reference clock; if
the reference clock is spread spectrum modulated, so will be the interface clock.
The frequency of this clock depends on the <code class="docutils literal notranslate"><span class="pre">phy_mode</span></code> and <code class="docutils literal notranslate"><span class="pre">rate</span></code> inputs. Note that
the supported combinations of <code class="docutils literal notranslate"><span class="pre">phy_mode</span></code> and <code class="docutils literal notranslate"><span class="pre">rate</span></code> are PHY implementation dependent.</p></li>
<li><p><strong>tx_data</strong> (<em>Signal</em><em>(</em><em>width * 8</em><em>)</em><em>, </em><em>input</em>)</p></li>
<li><p><strong>tx_datak</strong> (<em>Signal</em><em>(</em><em>width</em><em>)</em><em>, </em><em>input</em>) – Transmit data bus. Bits [7:0] are the first symbol to be transmitted, bits [15:8] (if any)
are the second symbol, and so on.</p></li>
<li><p><strong>rx_data</strong> (<em>Signal</em><em>(</em><em>width * 8</em><em>)</em><em>, </em><em>output</em>)</p></li>
<li><p><strong>rx_datak</strong> (<em>Signal</em><em>(</em><em>width</em><em>)</em><em>, </em><em>output</em>) – Receive data bus. Bits [7:0] are the first symbol that has been received, bits [15:8]
(if any) are the second symbol, and so on.</p></li>
<li><p><strong>phy_mode</strong> (<em>Signal</em><em>(</em><em>2</em><em>)</em><em>, </em><em>input</em>) – PHY operating mode; 0 for PCI Express, 1 for SuperSpeed USB. The allowed values for this
input are PHY implementation dependent. The PHY must be reset after changing this input.</p></li>
<li><p><strong>elas_buf_mode</strong> (<em>Signal</em><em>(</em><em>1</em><em>)</em><em>, </em><em>input</em>) – Elastic buffer operating mode; 0 for Nominal Half-full, 1 for Nominal Empty. The allowed
values for this input are PHY implementation dependent. The PHY must be reset after
changing this input.</p></li>
<li><p><strong>rate</strong> (<em>Signal</em><em>(</em><em>1</em><em>)</em><em>, </em><em>input</em>) – Link signaling rate; 0 for 2.5 GT/s, 1 for 5 GT/s. The allowed values for this input are
PHY implementation dependent. Whether changing this signal affects the <code class="docutils literal notranslate"><span class="pre">pclk</span></code> frequency
or the effective data bus width is PHY implementation dependent. The change of this input
is acknowledged by a single-cycle assertion of <code class="docutils literal notranslate"><span class="pre">phy_status</span></code>.</p></li>
<li><p><strong>power_down</strong> (<em>Signal</em><em>(</em><em>2</em><em>)</em><em>, </em><em>input</em>) – Protocol-specific power management mode, as per the PIPE specification. This signal is
synchronous to <code class="docutils literal notranslate"><span class="pre">pclk</span></code> if the clock is running, and asynchronous otherwise. The change
of this input is acknowledged by a single-cycle assertion of <code class="docutils literal notranslate"><span class="pre">phy_status</span></code> if <code class="docutils literal notranslate"><span class="pre">pclk</span></code>
is running, or by deassertion of <code class="docutils literal notranslate"><span class="pre">phy_status</span></code> otherwise.</p></li>
<li><p><strong>tx_deemph</strong> (<em>Signal</em><em>(</em><em>2</em><em>)</em><em>, </em><em>input</em>) – Transmitter de-emphasis level; 0 for -6 dB, 1 for -3.5 dB, 2 for 0 dB. The allowed values
for this input are PHY implementation dependent.</p></li>
<li><p><strong>tx_margin</strong> (<em>Signal</em><em>(</em><em>3</em><em>)</em><em>, </em><em>input</em>) – Transmitter voltage levels, as per the PIPE specification. The allowed values for this
input and their meanings are PHY implementation dependent.</p></li>
<li><p><strong>tx_swing</strong> (<em>Signal</em><em>(</em><em>1</em><em>)</em>) – Transmitter voltage swing level. The allowed values for this input and their meanings
are PHY implementation dependent.</p></li>
<li><p><strong>tx_detrx_lpbk</strong> (<em>Signal</em><em>(</em><em>)</em><em>, </em><em>input</em>)</p></li>
<li><p><strong>tx_elec_idle</strong> (<em>Signal</em><em>(</em><em>)</em><em>, </em><em>input</em>) – Protocol-specific transmit control signals, as per the PIPE specification. Depending on
the state of <code class="docutils literal notranslate"><span class="pre">phy_mode</span></code> and <code class="docutils literal notranslate"><span class="pre">power_down</span></code> inputs, these inputs direct the PHY
transmitter to transmit data from the transmit data bus, loop back received data, go into
Electrical Idle, transmit beacon or LFPS signaling, or perform a receiver detection
operation. These signals are synchronous to <code class="docutils literal notranslate"><span class="pre">pclk</span></code> if the clock is running, and
asynchronous otherwise. The completion of a receiver detection operation is acknowledged
by a single-cycle assertion of <code class="docutils literal notranslate"><span class="pre">phy_status</span></code> if <code class="docutils literal notranslate"><span class="pre">pclk</span></code> is running, or by asserting
<code class="docutils literal notranslate"><span class="pre">phy_status</span></code> until the MAC deasserts <code class="docutils literal notranslate"><span class="pre">tx_detrx_lpbk</span></code> otherwise.</p></li>
<li><p><strong>tx_compliance</strong> (<em>Signal</em><em>(</em><em>)</em><em>, </em><em>input</em>) – If asserted, sets the running disparity to negative for the first symbol on the transmit
data bus. This signal is implemented only for PHYs that can operate in the PCI Express mode.</p></li>
<li><p><strong>tx_ones_zeroes</strong> (<em>Signal</em><em>(</em><em>)</em><em>, </em><em>input</em>) – If asserted, the PHY transmits an alternating sequence of 50-250 ones and 50-250 zeroes
instead of the data on the transmit data bus. This signal is implemented only for PHYs
that can operate in the SuperSpeed USB mode.</p></li>
<li><p><strong>rx_polarity</strong> (<em>Signal</em><em>(</em><em>)</em><em>, </em><em>input</em>) – If asserted, the PHY receiver inverts the received serial data.</p></li>
<li><p><strong>rx_eq_training</strong> (<em>Signal</em><em>(</em><em>)</em><em>, </em><em>input</em>) – If asserted, the PHY receiver bypasses normal operation to perform equalization training.
Whether this signal is implemented is PHY implementation dependent.</p></li>
<li><p><strong>rx_termination</strong> (<em>Signal</em><em>(</em><em>)</em><em>, </em><em>input</em>) – If asserted, the PHY receiver presents receiver terminations. Whether this signal is
implemented is PHY implementation dependent.</p></li>
<li><p><strong>phy_status</strong> (<em>Signal</em><em>(</em><em>)</em><em>, </em><em>output</em>) – PHY operation completion status, as per the PIPE specification. This signal is synchronous
to <code class="docutils literal notranslate"><span class="pre">pclk</span></code> if the clock is running, and asynchronous otherwise.</p></li>
<li><p><strong>rx_valid</strong> (<em>Signal</em><em>(</em><em>)</em><em>, </em><em>output</em>) – If asserted, the PHY receiver has symbol lock and there is valid data on the data bus.</p></li>
<li><p><strong>rx_status</strong> (<em>Signal</em><em>(</em><em>3</em><em>)</em><em>, </em><em>output</em>) – Indicates one of the four possible receiver errors (8b10b decode error, disparity error,
elastic buffer overflow or underflow), the addition or removal of symbols as a part of
elastic buffer management, or the completion of a receiver detection operation. This signal
is synchronous to <code class="docutils literal notranslate"><span class="pre">pclk</span></code> if the clock is running, and asynchronous otherwise.</p></li>
<li><p><strong>rx_elec_idle</strong> (<em>Signal</em><em>(</em><em>)</em><em>, </em><em>output</em>) – If asserted, depending on the state of <code class="docutils literal notranslate"><span class="pre">phy_mode</span></code> and <code class="docutils literal notranslate"><span class="pre">power_down</span></code> inputs, indicates
detection of Electrical Idle, beacon signaling, or LFPS signaling. This signal is
asynchronous.</p></li>
<li><p><strong>power_present</strong> (<em>Signal</em><em>(</em><em>)</em><em>, </em><em>output</em>) – If asserted, voltage is present on Vbus. Whether this signal is implemented is PHY
implementation dependent.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sol_usb.gateware.interface.pipe.AsyncPIPEInterface">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sol_usb.gateware.interface.pipe.</span></span><span class="sig-name descname"><span class="pre">AsyncPIPEInterface</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_loc_at</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sol_usb.gateware.interface.pipe.AsyncPIPEInterface" title="Link to this definition"></a></dt>
<dd><p>Gateware that transfers PIPE interface signals between clock domains.</p>
<p>The PIPE specification defines the PHY interface signals to be synchronous to a PHY-generated
clock <code class="docutils literal notranslate"><span class="pre">pclk</span></code>, and asynchronous if <code class="docutils literal notranslate"><span class="pre">pclk</span></code> is not running. The MAC will typically not be
clocked by <code class="docutils literal notranslate"><span class="pre">pclk</span></code> for the following non-exhaustive list of reasons:</p>
<blockquote>
<div><ul class="simple">
<li><p>The MAC implements P2 (for PCI Express) or P3 (for SuperSpeed USB) power states where
the PHY-generated clock is not running;</p></li>
<li><p>The PHY-generated clock is faster than the maximum frequency at which the MAC can run;</p></li>
<li><p>The MAC implements rate switching (for PCI Express), and needs to support PHYs that
change the PHY-generated clock frequency depending on the rate;</p></li>
<li><p>The PHY is required to use a spread spectrum clock in the SuperSpeed USB mode, and
this would interfere with the MAC operation;</p></li>
<li><p>etc.</p></li>
</ul>
</div></blockquote>
<p>This gateware transfers the PIPE interface signals between the PHY and MAC clock domains,
optionally performing gearing to adapt the PHY data bus width and interface clock rate to
the MAC capabilities. With the exception of <code class="docutils literal notranslate"><span class="pre">reset</span></code>, <code class="docutils literal notranslate"><span class="pre">clk</span></code> and <code class="docutils literal notranslate"><span class="pre">pclk</span></code>, all of the signals
in this gateware are synchronous to the specified Torii clock domain, <code class="docutils literal notranslate"><span class="pre">ss</span></code> by default.
The <code class="docutils literal notranslate"><span class="pre">pclk</span></code> signal is driven by the clock of this domain.</p>
<p>This gateware does not currently support asynchronous signaling in the deepest PHY power state.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sol_usb.gateware.interface.pipe.GearedPIPEInterface">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sol_usb.gateware.interface.pipe.</span></span><span class="sig-name descname"><span class="pre">GearedPIPEInterface</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_loc_at</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sol_usb.gateware.interface.pipe.GearedPIPEInterface" title="Link to this definition"></a></dt>
<dd><p>Module that presents a post-gearing PIPE interface, performing gearing in I/O hardware.</p>
<p>This module presents a public interface that’s identical to a standard PIPE PHY,
with the following exceptions:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tx_data</span></code>    is 32 bits wide, rather than 16</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tx_datak</span></code>   is 4  bits wide, rather than  2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rx_data</span></code>    is 32 bits wide, rather than 16</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rx_datak</span></code>   is 4  bits wide, rather than  2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">phy_status</span></code> is 2 bits wide, rather than 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rx_status</span></code>  is now an array of two 3-bit signals</p></li>
</ul>
</div></blockquote>
<p>This module <em>requires</em> that a half-rate / 125MHz clock that’s in phase with the <code class="docutils literal notranslate"><span class="pre">pipe_io</span></code>
clock be provided to the <code class="docutils literal notranslate"><span class="pre">pipe</span></code> domain. This currently must be handled per-device, so it
is the responsibility of the platform’s clock domain generator.</p>
<p>This module optionally can connect the PIPE I/O clock (<code class="docutils literal notranslate"><span class="pre">pclk</span></code>) to the design’s clocking
network. This configuration is recommended.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pipe</strong> (<em>PIPE I/O resource</em>) – The raw PIPE interface to be worked with.</p></li>
<li><p><strong>handle_clocking</strong> (<em>boolean</em><em>, </em><em>optional</em>) – If true or not provided, this module will attempt to handle some clock connections
for you. This means that ClockSignal(‘pipe_io’) will be automatically driven by the
PHY’s clock (<code class="docutils literal notranslate"><span class="pre">pclk</span></code>), and <code class="docutils literal notranslate"><span class="pre">tx_clk</span></code> will automatically be tied to ClockSignal(‘pipe’).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>

    <script type="text/javascript">
        function init() {
            WaveDrom.ProcessAll();
        }
        window.onload = init;
    </script>

           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Interface" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ulpi.html" class="btn btn-neutral float-right" title="ULPI" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020 Great Scott Gadgets.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>